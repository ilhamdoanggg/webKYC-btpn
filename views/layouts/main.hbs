<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" href="./images/btpn.png" type="image/x-icon">

  <title>WebKYC BTPN</title>

  <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
  <link rel="stylesheet" type="text/css" href="/assets/css/styles.css" type="text/css" />

</head>

<body>
  {{{body}}}

  <script src="/assets/js/scripts.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <script src="/assets/js/jquery.min.js"></script>
  <script src="/assets/js/popper.min.js"></script>
  <script src="/vendors/chart.js/Chart.min.js"></script>
  <script src="/assets/js/chart-area-demo.js"></script>
  <script src="/assets/js/chart-pie-demo.js"></script>
  <script src="https://rtcmulticonnection.herokuapp.com/dist/RTCMultiConnection.min.js"></script>
  <script src="https://rtcmulticonnection.herokuapp.com/socket.io/socket.io.js"></script>

  <script>
    var connection = new RTCMultiConnection();

    // this line is VERY_important
    connection.socketURL = 'https://rtcmulticonnection.herokuapp.com:443/';

    // all below lines are optional; however recommended.

    connection.session = {
      audio: true,
      video: true
    };

    connection.sdpConstraints.mandatory = {
      OfferToReceiveAudio: true,
      OfferToReceiveVideo: true
    };

    connection.onstream = function (event) {
      let container = document.getElementById('container-video')
      container.appendChild(event.mediaElement);
    };

    var predefinedRoomId = 'tes-video';

    document.getElementById('btn-open-room').onclick = function () {
      this.disabled = true;
      connection.open(predefinedRoomId);
    };

    document.getElementById('btn-join-room').onclick = function () {
      this.disabled = true;
      connection.join(predefinedRoomId);
    };
  </script>
</body>

</html>